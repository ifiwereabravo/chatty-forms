(()=>{"use strict";const e=window.React,t=window.wp.blocks,o=window.wp.blockEditor,a=window.wp.components,l=window.wp.element,r=window.wp.i18n,c=JSON.parse('{"UU":"chatty-forms/form"}');(0,t.registerBlockType)(c.UU,{edit:({attributes:t,setAttributes:c})=>{const{formId:n}=t,s=(0,o.useBlockProps)(),[m,i]=(0,l.useState)([]),[d,f]=(0,l.useState)(!0);(0,l.useEffect)(()=>{wp.apiFetch({path:"/chatty-forms/v1/forms"}).then(e=>{i(e||[]),f(!1)}).catch(()=>{i([]),f(!1)})},[]);const p=[{label:(0,r.__)("â€” Select a form â€”","chatty-forms"),value:""},...m.map(e=>({label:e.title||`Form #${e.id}`,value:String(e.id)}))],h=m.find(e=>String(e.id)===String(n));return(0,e.createElement)("div",{...s},(0,e.createElement)(o.InspectorControls,null,(0,e.createElement)(a.PanelBody,{title:(0,r.__)("Form Settings","chatty-forms")},(0,e.createElement)(a.SelectControl,{label:(0,r.__)("Select Form","chatty-forms"),value:n,options:p,onChange:e=>c({formId:e})}))),d?(0,e.createElement)(a.Placeholder,{icon:"feedback",label:(0,r.__)("CHATTY Form","chatty-forms")},(0,e.createElement)(a.Spinner,null)):n?(0,e.createElement)("div",{className:"chatty-forms-block-preview"},(0,e.createElement)("div",{className:"chatty-forms-block-preview__header"},(0,e.createElement)("span",{className:"chatty-forms-block-preview__icon"},"ðŸ“‹"),(0,e.createElement)("span",{className:"chatty-forms-block-preview__title"},h?h.title:`Form #${n}`)),(0,e.createElement)("div",{className:"chatty-forms-block-preview__info"},(0,e.createElement)("code",null,'[chatty_form id="',n,'"]'))):(0,e.createElement)(a.Placeholder,{icon:"feedback",label:(0,r.__)("CHATTY Form","chatty-forms"),instructions:(0,r.__)("Select a form to display.","chatty-forms")},(0,e.createElement)(a.SelectControl,{value:n,options:p,onChange:e=>c({formId:e})})))},save:()=>null})})();