(()=>{"use strict";var e={609(e){e.exports=window.React},715(e){e.exports=window.wp.blockEditor},997(e){e.exports=window.wp.blocks},427(e){e.exports=window.wp.components},87(e){e.exports=window.wp.element},723(e){e.exports=window.wp.i18n},932(e){e.exports=JSON.parse('{"UU":"chatty-forms/form"}')}},t={};function r(o){var a=t[o];if(void 0!==a)return a.exports;var l=t[o]={exports:{}};return e[o](l,l.exports,r),l.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o=r(609),a=r(997),l=r(715),c=r(427),n=r(87),s=r(723),i=r(932);(0,a.registerBlockType)(i.UU,{edit:({attributes:e,setAttributes:t})=>{const{formId:r}=e,a=(0,l.useBlockProps)(),[i,m]=(0,n.useState)([]),[p,d]=(0,n.useState)(!0);(0,n.useEffect)(()=>{wp.apiFetch({path:"/chatty-forms/v1/forms"}).then(e=>{m(e||[]),d(!1)}).catch(()=>{m([]),d(!1)})},[]);const f=[{label:(0,s.__)("â€” Select a form â€”","chatty-forms"),value:""},...i.map(e=>({label:e.title||`Form #${e.id}`,value:String(e.id)}))],h=i.find(e=>String(e.id)===String(r));return(0,o.createElement)("div",{...a},(0,o.createElement)(l.InspectorControls,null,(0,o.createElement)(c.PanelBody,{title:(0,s.__)("Form Settings","chatty-forms")},(0,o.createElement)(c.SelectControl,{label:(0,s.__)("Select Form","chatty-forms"),value:r,options:f,onChange:e=>t({formId:e})}))),p?(0,o.createElement)(c.Placeholder,{icon:"feedback",label:(0,s.__)("CHATTY Form","chatty-forms")},(0,o.createElement)(c.Spinner,null)):r?(0,o.createElement)("div",{className:"chatty-forms-block-preview"},(0,o.createElement)("div",{className:"chatty-forms-block-preview__header"},(0,o.createElement)("span",{className:"chatty-forms-block-preview__icon"},"ðŸ“‹"),(0,o.createElement)("span",{className:"chatty-forms-block-preview__title"},h?h.title:`Form #${r}`)),(0,o.createElement)("div",{className:"chatty-forms-block-preview__info"},(0,o.createElement)("code",null,'[chatty_form id="',r,'"]'))):(0,o.createElement)(c.Placeholder,{icon:"feedback",label:(0,s.__)("CHATTY Form","chatty-forms"),instructions:(0,s.__)("Select a form to display.","chatty-forms")},(0,o.createElement)(c.SelectControl,{value:r,options:f,onChange:e=>t({formId:e})})))},save:()=>null})})();
//# sourceMappingURL=block-editor.js.map