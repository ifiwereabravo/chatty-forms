(()=>{"use strict";var e={609(e){e.exports=window.React},715(e){e.exports=window.wp.blockEditor},997(e){e.exports=window.wp.blocks},427(e){e.exports=window.wp.components},87(e){e.exports=window.wp.element},723(e){e.exports=window.wp.i18n},932(e){e.exports=JSON.parse('{"UU":"chatty-forms/form"}')}},t={};function o(r){var a=t[r];if(void 0!==a)return a.exports;var l=t[r]={exports:{}};return e[r](l,l.exports,o),l.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r=o(609),a=o(997),l=o(715),c=o(427),n=o(87),s=o(723),m=o(932);(0,a.registerBlockType)(m.UU,{edit:({attributes:e,setAttributes:t})=>{const{formId:o,theme:a}=e,m=(0,l.useBlockProps)(),[i,p]=(0,n.useState)([]),[d,f]=(0,n.useState)(!0);(0,n.useEffect)(()=>{wp.apiFetch({path:"/chatty-forms/v1/forms"}).then(e=>{p(e||[]),f(!1)}).catch(()=>{p([]),f(!1)})},[]);const h=[{label:(0,s.__)("â€” Select a form â€”","chatty-forms"),value:""},...i.map(e=>({label:e.title||`Form #${e.id}`,value:String(e.id)}))],u=i.find(e=>String(e.id)===String(o));return(0,r.createElement)("div",{...m},(0,r.createElement)(l.InspectorControls,null,(0,r.createElement)(c.PanelBody,{title:(0,s.__)("Form Settings","chatty-forms")},(0,r.createElement)(c.SelectControl,{label:(0,s.__)("Select Form","chatty-forms"),value:o,options:h,onChange:e=>t({formId:e})}),(0,r.createElement)(c.SelectControl,{label:(0,s.__)("Theme Mode","chatty-forms"),value:a,options:[{label:(0,s.__)("Default (from settings)","chatty-forms"),value:""},{label:"â˜€ï¸ Light",value:"light"},{label:"ðŸŒ™ Dark",value:"dark"},{label:"ðŸ”„ Auto (follows OS)",value:"auto"}],onChange:e=>t({theme:e})}))),d?(0,r.createElement)(c.Placeholder,{icon:"feedback",label:(0,s.__)("CHATTY Form","chatty-forms")},(0,r.createElement)(c.Spinner,null)):o?(0,r.createElement)("div",{className:"chatty-forms-block-preview"},(0,r.createElement)("div",{className:"chatty-forms-block-preview__header"},(0,r.createElement)("span",{className:"chatty-forms-block-preview__icon"},"ðŸ“‹"),(0,r.createElement)("span",{className:"chatty-forms-block-preview__title"},u?u.title:`Form #${o}`)),(0,r.createElement)("div",{className:"chatty-forms-block-preview__info"},(0,r.createElement)("code",null,'[chatty_form id="',o,'"',a?` theme="${a}"`:"","]"),a&&(0,r.createElement)("span",{className:"chatty-forms-block-preview__badge"},"dark"===a?"ðŸŒ™":"auto"===a?"ðŸ”„":"â˜€ï¸"," ",a))):(0,r.createElement)(c.Placeholder,{icon:"feedback",label:(0,s.__)("CHATTY Form","chatty-forms"),instructions:(0,s.__)("Select a form to display.","chatty-forms")},(0,r.createElement)(c.SelectControl,{value:o,options:h,onChange:e=>t({formId:e})})))},save:()=>null})})();
//# sourceMappingURL=block-editor.js.map