(()=>{"use strict";var e={251(e,t,n){n.d(t,{Aw:()=>l,L4:()=>i,bO:()=>s});var r=n(609),a=n.n(r);const o={display:"none"};function l(e){let{id:t,value:n}=e;return a().createElement("div",{id:t,style:o},n)}function i(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;return a().createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":r,"aria-atomic":!0},n)}function s(){const[e,t]=(0,r.useState)("");return{announce:(0,r.useCallback)(e=>{null!=e&&t(e)},[]),announcement:e}}},871(e,t,n){n.d(t,{AN:()=>de,FR:()=>p,Hd:()=>lt,MS:()=>h,Mp:()=>Ye,PM:()=>Ke,Sj:()=>M,Vy:()=>x,fF:()=>$e,fp:()=>S,sl:()=>O,uN:()=>oe,vL:()=>ee,y$:()=>N,zM:()=>Xe});var r=n(609),a=n.n(r),o=n(795),l=n(979),i=n(251);const s=(0,r.createContext)(null),c={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},d={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function u(e){let{announcements:t=d,container:n,hiddenTextDescribedById:u,screenReaderInstructions:m=c}=e;const{announce:f,announcement:h}=(0,i.bO)(),p=(0,l.YG)("DndLiveRegion"),[g,v]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{v(!0)},[]),function(e){const t=(0,r.useContext)(s);(0,r.useEffect)(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}((0,r.useMemo)(()=>({onDragStart(e){let{active:n}=e;f(t.onDragStart({active:n}))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&f(t.onDragMove({active:n,over:r}))},onDragOver(e){let{active:n,over:r}=e;f(t.onDragOver({active:n,over:r}))},onDragEnd(e){let{active:n,over:r}=e;f(t.onDragEnd({active:n,over:r}))},onDragCancel(e){let{active:n,over:r}=e;f(t.onDragCancel({active:n,over:r}))}}),[f,t])),!g)return null;const y=a().createElement(a().Fragment,null,a().createElement(i.Aw,{id:u,value:m.draggable}),a().createElement(i.L4,{id:p,announcement:h}));return n?(0,o.createPortal)(y,n):y}var m;function f(){}function h(e,t){return(0,r.useMemo)(()=>({sensor:e,options:null!=t?t:{}}),[e,t])}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useMemo)(()=>[...t].filter(e=>null!=e),[...t])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(m||(m={}));const g=Object.freeze({x:0,y:0});function v(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function y(e,t){const n=(0,l.e_)(e);return n?(n.x-t.left)/t.width*100+"% "+(n.y-t.top)/t.height*100+"%":"0 0"}function b(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function E(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function w(e){let{left:t,top:n,height:r,width:a}=e;return[{x:t,y:n},{x:t+a,y:n},{x:t,y:n+r},{x:t+a,y:n+r}]}function x(e,t){if(!e||0===e.length)return null;const[n]=e;return t?n[t]:n}function C(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const S=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=C(t,t.left,t.top),o=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=v(C(r),a);o.push({id:t,data:{droppableContainer:e,value:n}})}}return o.sort(b)},N=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=w(t),o=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=w(r),l=a.reduce((e,t,r)=>e+v(n[r],t),0),i=Number((l/4).toFixed(4));o.push({id:t,data:{droppableContainer:e,value:i}})}}return o.sort(b)};function R(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),l=a-r,i=o-n;if(r<a&&n<o){const n=t.width*t.height,r=e.width*e.height,a=l*i;return Number((a/(n+r-a)).toFixed(4))}return 0}const _=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=[];for(const e of r){const{id:r}=e,o=n.get(r);if(o){const n=R(o,t);n>0&&a.push({id:r,data:{droppableContainer:e,value:n}})}}return a.sort(E)};function D(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:g}function k(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x}),{...t})}}const T=k(1);function A(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}const F={ignoreTransform:!1};function M(e,t){void 0===t&&(t=F);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=(0,l.zk)(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=A(t);if(!r)return e;const{scaleX:a,scaleY:o,x:l,y:i}=r,s=e.left-l-(1-a)*parseFloat(n),c=e.top-i-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),d=a?e.width/a:e.width,u=o?e.height/o:e.height;return{width:d,height:u,top:c,right:s+d,bottom:c+u,left:s}}(n,t,r))}const{top:r,left:a,width:o,height:i,bottom:s,right:c}=n;return{top:r,left:a,width:o,height:i,bottom:s,right:c}}function I(e){return M(e,{ignoreTransform:!0})}function O(e,t){const n=[];return e?function r(a){if(null!=t&&n.length>=t)return n;if(!a)return n;if((0,l.wz)(a)&&null!=a.scrollingElement&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!(0,l.sb)(a)||(0,l.xZ)(a))return n;if(n.includes(a))return n;const o=(0,l.zk)(e).getComputedStyle(a);return a!==e&&function(e,t){void 0===t&&(t=(0,l.zk)(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{const r=t[e];return"string"==typeof r&&n.test(r)})}(a,o)&&n.push(a),function(e,t){return void 0===t&&(t=(0,l.zk)(e).getComputedStyle(e)),"fixed"===t.position}(a,o)?n:r(a.parentNode)}(e):n}function L(e){const[t]=O(e,1);return null!=t?t:null}function P(e){return l.Sw&&e?(0,l.l6)(e)?e:(0,l.Ll)(e)?(0,l.wz)(e)||e===(0,l.TW)(e).scrollingElement?window:(0,l.sb)(e)?e:null:null:null}function U(e){return(0,l.l6)(e)?e.scrollX:e.scrollLeft}function B(e){return(0,l.l6)(e)?e.scrollY:e.scrollTop}function z(e){return{x:U(e),y:B(e)}}var j;function q(e){return!(!l.Sw||!e)&&e===document.scrollingElement}function Y(e){const t={x:0,y:0},n=q(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(j||(j={}));const W={x:.2,y:.2};function G(e,t,n,r,a){let{top:o,left:l,right:i,bottom:s}=n;void 0===r&&(r=10),void 0===a&&(a=W);const{isTop:c,isBottom:d,isLeft:u,isRight:m}=Y(e),f={x:0,y:0},h={x:0,y:0},p=t.height*a.y,g=t.width*a.x;return!c&&o<=t.top+p?(f.y=j.Backward,h.y=r*Math.abs((t.top+p-o)/p)):!d&&s>=t.bottom-p&&(f.y=j.Forward,h.y=r*Math.abs((t.bottom-p-s)/p)),!m&&i>=t.right-g?(f.x=j.Forward,h.x=r*Math.abs((t.right-g-i)/g)):!u&&l<=t.left+g&&(f.x=j.Backward,h.x=r*Math.abs((t.left+g-l)/g)),{direction:f,speed:h}}function K(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:a,width:e.clientWidth,height:e.clientHeight}}function $(e){return e.reduce((e,t)=>(0,l.WQ)(e,z(t)),g)}function V(e,t){if(void 0===t&&(t=M),!e)return;const{top:n,left:r,bottom:a,right:o}=t(e);L(e)&&(a<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const X=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+U(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+B(t),0)}]];class J{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=O(t),r=$(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,a]of X)for(const o of t)Object.defineProperty(this,o,{get:()=>{const t=a(n),l=r[e]-t;return this.rect[o]+l},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class H{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function Q(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var Z,ee;function te(e){e.preventDefault()}function ne(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(Z||(Z={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(ee||(ee={}));const re={start:[ee.Space,ee.Enter],cancel:[ee.Esc],end:[ee.Space,ee.Enter,ee.Tab]},ae=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case ee.Right:return{...n,x:n.x+25};case ee.Left:return{...n,x:n.x-25};case ee.Down:return{...n,y:n.y+25};case ee.Up:return{...n,y:n.y-25}}};class oe{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new H((0,l.TW)(t)),this.windowListeners=new H((0,l.zk)(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Z.Resize,this.handleCancel),this.windowListeners.add(Z.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Z.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&V(n),t(g)}handleKeyDown(e){if((0,l.kx)(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:a=re,coordinateGetter:o=ae,scrollBehavior:i="smooth"}=r,{code:s}=e;if(a.end.includes(s))return void this.handleEnd(e);if(a.cancel.includes(s))return void this.handleCancel(e);const{collisionRect:c}=n.current,d=c?{x:c.left,y:c.top}:g;this.referenceCoordinates||(this.referenceCoordinates=d);const u=o(e,{active:t,context:n.current,currentCoordinates:d});if(u){const t=(0,l.Re)(u,d),r={x:0,y:0},{scrollableAncestors:a}=n.current;for(const n of a){const a=e.code,{isTop:o,isRight:l,isLeft:s,isBottom:c,maxScroll:d,minScroll:m}=Y(n),f=K(n),h={x:Math.min(a===ee.Right?f.right-f.width/2:f.right,Math.max(a===ee.Right?f.left:f.left+f.width/2,u.x)),y:Math.min(a===ee.Down?f.bottom-f.height/2:f.bottom,Math.max(a===ee.Down?f.top:f.top+f.height/2,u.y))},p=a===ee.Right&&!l||a===ee.Left&&!s,g=a===ee.Down&&!c||a===ee.Up&&!o;if(p&&h.x!==u.x){const e=n.scrollLeft+t.x,o=a===ee.Right&&e<=d.x||a===ee.Left&&e>=m.x;if(o&&!t.y)return void n.scrollTo({left:e,behavior:i});r.x=o?n.scrollLeft-e:a===ee.Right?n.scrollLeft-d.x:n.scrollLeft-m.x,r.x&&n.scrollBy({left:-r.x,behavior:i});break}if(g&&h.y!==u.y){const e=n.scrollTop+t.y,o=a===ee.Down&&e<=d.y||a===ee.Up&&e>=m.y;if(o&&!t.x)return void n.scrollTo({top:e,behavior:i});r.y=o?n.scrollTop-e:a===ee.Down?n.scrollTop-d.y:n.scrollTop-m.y,r.y&&n.scrollBy({top:-r.y,behavior:i});break}}this.handleMove(e,(0,l.WQ)((0,l.Re)(u,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function le(e){return Boolean(e&&"distance"in e)}function ie(e){return Boolean(e&&"delay"in e)}oe.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=re,onActivation:a}=t,{active:o}=n;const{code:l}=e.nativeEvent;if(r.start.includes(l)){const t=o.activatorNode.current;return!(t&&e.target!==t||(e.preventDefault(),null==a||a({event:e.nativeEvent}),0))}return!1}}];class se{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=(0,l.zk)(e);return e instanceof t?e:(0,l.TW)(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:a}=e,{target:o}=a;this.props=e,this.events=t,this.document=(0,l.TW)(o),this.documentListeners=new H(this.document),this.listeners=new H(n),this.windowListeners=new H((0,l.zk)(o)),this.initialCoordinates=null!=(r=(0,l.e_)(a))?r:g,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Z.Resize,this.handleCancel),this.windowListeners.add(Z.DragStart,te),this.windowListeners.add(Z.VisibilityChange,this.handleCancel),this.windowListeners.add(Z.ContextMenu,te),this.documentListeners.add(Z.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ie(t))return this.timeoutId=setTimeout(this.handleStart,t.delay),void this.handlePending(t);if(le(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Z.Click,ne,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Z.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:a}=this,{onMove:o,options:{activationConstraint:i}}=a;if(!r)return;const s=null!=(t=(0,l.e_)(e))?t:g,c=(0,l.Re)(r,s);if(!n&&i){if(le(i)){if(null!=i.tolerance&&Q(c,i.tolerance))return this.handleCancel();if(Q(c,i.distance))return this.handleStart()}return ie(i)&&Q(c,i.tolerance)?this.handleCancel():void this.handlePending(i,c)}e.cancelable&&e.preventDefault(),o(s)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===ee.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const ce={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class de extends se{constructor(e){const{event:t}=e,n=(0,l.TW)(t.target);super(e,ce,n)}}de.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button||(null==r||r({event:n}),0))}}];const ue={move:{name:"mousemove"},end:{name:"mouseup"}};var me;!function(e){e[e.RightClick=2]="RightClick"}(me||(me={})),class extends se{constructor(e){super(e,ue,(0,l.TW)(e.event.target))}}.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==me.RightClick&&(null==r||r({event:n}),!0)}}];const fe={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};var he,pe;(class extends se{constructor(e){super(e,fe)}static setup(){return window.addEventListener(fe.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(fe.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:a}=n;return!(a.length>1||(null==r||r({event:n}),0))}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(he||(he={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(pe||(pe={}));const ge={x:{[j.Backward]:!1,[j.Forward]:!1},y:{[j.Backward]:!1,[j.Forward]:!1}};var ve,ye;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(ve||(ve={})),function(e){e.Optimized="optimized"}(ye||(ye={}));const be=new Map;function Ee(e,t){return(0,l.KG)(n=>e?n||("function"==typeof t?t(e):e):null,[t,e])}function we(e){let{callback:t,disabled:n}=e;const a=(0,l._q)(t),o=(0,r.useMemo)(()=>{if(n||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(a)},[n]);return(0,r.useEffect)(()=>()=>null==o?void 0:o.disconnect(),[o]),o}function xe(e){return new J(M(e),e)}function Ce(e,t,n){void 0===t&&(t=xe);const[a,o]=(0,r.useState)(null);function i(){o(r=>{if(!e)return null;var a;if(!1===e.isConnected)return null!=(a=null!=r?r:n)?a:null;const o=t(e);return JSON.stringify(r)===JSON.stringify(o)?r:o})}const s=function(e){let{callback:t,disabled:n}=e;const a=(0,l._q)(t),o=(0,r.useMemo)(()=>{if(n||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(a)},[a,n]);return(0,r.useEffect)(()=>()=>null==o?void 0:o.disconnect(),[o]),o}({callback(t){if(e)for(const n of t){const{type:t,target:r}=n;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){i();break}}}}),c=we({callback:i});return(0,l.Es)(()=>{i(),e?(null==c||c.observe(e),null==s||s.observe(document.body,{childList:!0,subtree:!0})):(null==c||c.disconnect(),null==s||s.disconnect())},[e]),a}const Se=[];function Ne(e,t){void 0===t&&(t=[]);const n=(0,r.useRef)(null);return(0,r.useEffect)(()=>{n.current=null},t),(0,r.useEffect)(()=>{const t=e!==g;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)},[e]),n.current?(0,l.Re)(e,n.current):g}function Re(e){return(0,r.useMemo)(()=>e?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null,[e])}const _e=[];function De(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return(0,l.sb)(t)?t:e}const ke=[{sensor:de,options:{}},{sensor:oe,options:{}}],Te={current:{}},Ae={draggable:{measure:I},droppable:{measure:I,strategy:ve.WhileDragging,frequency:ye.Optimized},dragOverlay:{measure:M}};class Fe extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const Me={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Fe,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:f},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ae,measureDroppableContainers:f,windowRect:null,measuringScheduled:!1},Ie={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:f,draggableNodes:new Map,over:null,measureDroppableContainers:f},Oe=(0,r.createContext)(Ie),Le=(0,r.createContext)(Me);function Pe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Fe}}}function Ue(e,t){switch(t.type){case m.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case m.DragMove:return null==e.draggable.active?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case m.DragEnd:case m.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case m.RegisterDroppable:{const{element:n}=t,{id:r}=n,a=new Fe(e.droppable.containers);return a.set(r,n),{...e,droppable:{...e.droppable,containers:a}}}case m.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const l=new Fe(e.droppable.containers);return l.set(n,{...o,disabled:a}),{...e,droppable:{...e.droppable,containers:l}}}case m.UnregisterDroppable:{const{id:n,key:r}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const o=new Fe(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function Be(e){let{disabled:t}=e;const{active:n,activatorEvent:a,draggableNodes:o}=(0,r.useContext)(Oe),i=(0,l.ZC)(a),s=(0,l.ZC)(null==n?void 0:n.id);return(0,r.useEffect)(()=>{if(!t&&!a&&i&&null!=s){if(!(0,l.kx)(i))return;if(document.activeElement===i.target)return;const e=o.get(s);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame(()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=(0,l.ag)(e);if(t){t.focus();break}}})}},[a,t,o,s,i]),null}function ze(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...r}),n):n}const je=(0,r.createContext)({...g,scaleX:1,scaleY:1});var qe;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(qe||(qe={}));const Ye=(0,r.memo)(function(e){var t,n,i,c;let{id:d,accessibility:f,autoScroll:h=!0,children:p,sensors:v=ke,collisionDetection:y=_,measuring:b,modifiers:E,...w}=e;const C=(0,r.useReducer)(Ue,void 0,Pe),[S,N]=C,[R,k]=function(){const[e]=(0,r.useState)(()=>new Set),t=(0,r.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,r.useCallback)(t=>{let{type:n,event:r}=t;e.forEach(e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)})},[e]),t]}(),[A,F]=(0,r.useState)(qe.Uninitialized),I=A===qe.Initialized,{draggable:{active:U,nodes:B,translate:Y},droppable:{containers:W}}=S,K=null!=U?B.get(U):null,V=(0,r.useRef)({initial:null,translated:null}),X=(0,r.useMemo)(()=>{var e;return null!=U?{id:U,data:null!=(e=null==K?void 0:K.data)?e:Te,rect:V}:null},[U,K]),H=(0,r.useRef)(null),[Q,Z]=(0,r.useState)(null),[ee,te]=(0,r.useState)(null),ne=(0,l.YN)(w,Object.values(w)),re=(0,l.YG)("DndDescribedBy",d),ae=(0,r.useMemo)(()=>W.getEnabled(),[W]),oe=(le=b,(0,r.useMemo)(()=>({draggable:{...Ae.draggable,...null==le?void 0:le.draggable},droppable:{...Ae.droppable,...null==le?void 0:le.droppable},dragOverlay:{...Ae.dragOverlay,...null==le?void 0:le.dragOverlay}}),[null==le?void 0:le.draggable,null==le?void 0:le.droppable,null==le?void 0:le.dragOverlay]));var le;const{droppableRects:ie,measureDroppableContainers:se,measuringScheduled:ce}=function(e,t){let{dragging:n,dependencies:a,config:o}=t;const[i,s]=(0,r.useState)(null),{frequency:c,measure:d,strategy:u}=o,m=(0,r.useRef)(e),f=function(){switch(u){case ve.Always:return!1;case ve.BeforeDragging:return n;default:return!n}}(),h=(0,l.YN)(f),p=(0,r.useCallback)(function(e){void 0===e&&(e=[]),h.current||s(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[h]),g=(0,r.useRef)(null),v=(0,l.KG)(t=>{if(f&&!n)return be;if(!t||t===be||m.current!==e||null!=i){const t=new Map;for(let n of e){if(!n)continue;if(i&&i.length>0&&!i.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,r=e?new J(d(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t},[e,i,n,f,d]);return(0,r.useEffect)(()=>{m.current=e},[e]),(0,r.useEffect)(()=>{f||p()},[n,f]),(0,r.useEffect)(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),(0,r.useEffect)(()=>{f||"number"!=typeof c||null!==g.current||(g.current=setTimeout(()=>{p(),g.current=null},c))},[c,f,p,...a]),{droppableRects:v,measureDroppableContainers:p,measuringScheduled:null!=i}}(ae,{dragging:I,dependencies:[Y.x,Y.y],config:oe.droppable}),de=function(e,t){const n=null!=t?e.get(t):void 0,r=n?n.node.current:null;return(0,l.KG)(e=>{var n;return null==t?null:null!=(n=null!=r?r:e)?n:null},[r,t])}(B,U),ue=(0,r.useMemo)(()=>ee?(0,l.e_)(ee):null,[ee]),me=function(){const e=!1===(null==Q?void 0:Q.autoScrollEnabled),t="object"==typeof h?!1===h.enabled:!1===h,n=I&&!e&&!t;return"object"==typeof h?{...h,enabled:n}:{enabled:n}}(),fe=function(e,t){return Ee(e,t)}(de,oe.draggable.measure);!function(e){let{activeNode:t,measure:n,initialRect:a,config:o=!0}=e;const i=(0,r.useRef)(!1),{x:s,y:c}="boolean"==typeof o?{x:o,y:o}:o;(0,l.Es)(()=>{if(!s&&!c||!t)return void(i.current=!1);if(i.current||!a)return;const e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;const r=D(n(e),a);if(s||(r.x=0),c||(r.y=0),i.current=!0,Math.abs(r.x)>0||Math.abs(r.y)>0){const t=L(e);t&&t.scrollBy({top:r.y,left:r.x})}},[t,s,c,a,n])}({activeNode:null!=U?B.get(U):null,config:me.layoutShiftCompensation,initialRect:fe,measure:oe.draggable.measure});const ye=Ce(de,oe.draggable.measure,fe),xe=Ce(de?de.parentElement:null),Fe=(0,r.useRef)({activatorEvent:null,active:null,activeNode:de,collisionRect:null,collisions:null,droppableRects:ie,draggableNodes:B,draggingNode:null,draggingNodeRect:null,droppableContainers:W,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Me=W.getNodeFor(null==(t=Fe.current.over)?void 0:t.id),Ie=function(e){let{measure:t}=e;const[n,a]=(0,r.useState)(null),o=we({callback:(0,r.useCallback)(e=>{for(const{target:n}of e)if((0,l.sb)(n)){a(e=>{const r=t(n);return e?{...e,width:r.width,height:r.height}:r});break}},[t])}),i=(0,r.useCallback)(e=>{const n=De(e);null==o||o.disconnect(),n&&(null==o||o.observe(n)),a(n?t(n):null)},[t,o]),[s,c]=(0,l.lk)(i);return(0,r.useMemo)(()=>({nodeRef:s,rect:n,setRef:c}),[n,s,c])}({measure:oe.dragOverlay.measure}),Ye=null!=(n=Ie.nodeRef.current)?n:de,We=I?null!=(i=Ie.rect)?i:ye:null,Ge=Boolean(Ie.nodeRef.current&&Ie.rect),Ke=D($e=Ge?null:ye,Ee($e));var $e;const Ve=Re(Ye?(0,l.zk)(Ye):null),Xe=function(e){const t=(0,r.useRef)(e),n=(0,l.KG)(n=>e?n&&n!==Se&&e&&t.current&&e.parentNode===t.current.parentNode?n:O(e):Se,[e]);return(0,r.useEffect)(()=>{t.current=e},[e]),n}(I?null!=Me?Me:de:null),Je=function(e,t){void 0===t&&(t=M);const[n]=e,a=Re(n?(0,l.zk)(n):null),[o,i]=(0,r.useState)(_e);function s(){i(()=>e.length?e.map(e=>q(e)?a:new J(t(e),e)):_e)}const c=we({callback:s});return(0,l.Es)(()=>{null==c||c.disconnect(),s(),e.forEach(e=>null==c?void 0:c.observe(e))},[e]),o}(Xe),He=ze(E,{transform:{x:Y.x-Ke.x,y:Y.y-Ke.y,scaleX:1,scaleY:1},activatorEvent:ee,active:X,activeNodeRect:ye,containerNodeRect:xe,draggingNodeRect:We,over:Fe.current.over,overlayNodeRect:Ie.rect,scrollableAncestors:Xe,scrollableAncestorRects:Je,windowRect:Ve}),Qe=ue?(0,l.WQ)(ue,Y):null,Ze=function(e){const[t,n]=(0,r.useState)(null),a=(0,r.useRef)(e),o=(0,r.useCallback)(e=>{const t=P(e.target);t&&n(e=>e?(e.set(t,z(t)),new Map(e)):null)},[]);return(0,r.useEffect)(()=>{const t=a.current;if(e!==t){r(t);const l=e.map(e=>{const t=P(e);return t?(t.addEventListener("scroll",o,{passive:!0}),[t,z(t)]):null}).filter(e=>null!=e);n(l.length?new Map(l):null),a.current=e}return()=>{r(e),r(t)};function r(e){e.forEach(e=>{const t=P(e);null==t||t.removeEventListener("scroll",o)})}},[o,e]),(0,r.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>(0,l.WQ)(e,t),g):$(e):g,[e,t])}(Xe),et=Ne(Ze),tt=Ne(Ze,[ye]),nt=(0,l.WQ)(He,et),rt=We?T(We,He):null,at=X&&rt?y({active:X,collisionRect:rt,droppableRects:ie,droppableContainers:ae,pointerCoordinates:Qe}):null,ot=x(at,"id"),[lt,it]=(0,r.useState)(null),st=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(Ge?He:(0,l.WQ)(He,tt),null!=(c=null==lt?void 0:lt.rect)?c:null,ye),ct=(0,r.useRef)(null),dt=(0,r.useCallback)((e,t)=>{let{sensor:n,options:r}=t;if(null==H.current)return;const a=B.get(H.current);if(!a)return;const l=e.nativeEvent,i=new n({active:H.current,activeNode:a,event:l,options:r,context:Fe,onAbort(e){if(!B.get(e))return;const{onDragAbort:t}=ne.current,n={id:e};null==t||t(n),R({type:"onDragAbort",event:n})},onPending(e,t,n,r){if(!B.get(e))return;const{onDragPending:a}=ne.current,o={id:e,constraint:t,initialCoordinates:n,offset:r};null==a||a(o),R({type:"onDragPending",event:o})},onStart(e){const t=H.current;if(null==t)return;const n=B.get(t);if(!n)return;const{onDragStart:r}=ne.current,a={activatorEvent:l,active:{id:t,data:n.data,rect:V}};(0,o.unstable_batchedUpdates)(()=>{null==r||r(a),F(qe.Initializing),N({type:m.DragStart,initialCoordinates:e,active:t}),R({type:"onDragStart",event:a}),Z(ct.current),te(l)})},onMove(e){N({type:m.DragMove,coordinates:e})},onEnd:s(m.DragEnd),onCancel:s(m.DragCancel)});function s(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:a}=Fe.current;let i=null;if(t&&a){const{cancelDrop:o}=ne.current;i={activatorEvent:l,active:t,collisions:n,delta:a,over:r},e===m.DragEnd&&"function"==typeof o&&await Promise.resolve(o(i))&&(e=m.DragCancel)}H.current=null,(0,o.unstable_batchedUpdates)(()=>{N({type:e}),F(qe.Uninitialized),it(null),Z(null),te(null),ct.current=null;const t=e===m.DragEnd?"onDragEnd":"onDragCancel";if(i){const e=ne.current[t];null==e||e(i),R({type:t,event:i})}})}}ct.current=i},[B]),ut=(0,r.useCallback)((e,t)=>(n,r)=>{const a=n.nativeEvent,o=B.get(r);if(null!==H.current||!o||a.dndKit||a.defaultPrevented)return;const l={active:o};!0===e(n,t.options,l)&&(a.dndKit={capturedBy:t.sensor},H.current=r,dt(n,t))},[B,dt]),mt=function(e,t){return(0,r.useMemo)(()=>e.reduce((e,n)=>{const{sensor:r}=n;return[...e,...r.activators.map(e=>({eventName:e.eventName,handler:t(e.handler,n)}))]},[]),[e,t])}(v,ut);!function(e){(0,r.useEffect)(()=>{if(!l.Sw)return;const t=e.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(const e of t)null==e||e()}},e.map(e=>{let{sensor:t}=e;return t}))}(v),(0,l.Es)(()=>{ye&&A===qe.Initializing&&F(qe.Initialized)},[ye,A]),(0,r.useEffect)(()=>{const{onDragMove:e}=ne.current,{active:t,activatorEvent:n,collisions:r,over:a}=Fe.current;if(!t||!n)return;const l={active:t,activatorEvent:n,collisions:r,delta:{x:nt.x,y:nt.y},over:a};(0,o.unstable_batchedUpdates)(()=>{null==e||e(l),R({type:"onDragMove",event:l})})},[nt.x,nt.y]),(0,r.useEffect)(()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:a}=Fe.current;if(!e||null==H.current||!t||!a)return;const{onDragOver:l}=ne.current,i=r.get(ot),s=i&&i.rect.current?{id:i.id,rect:i.rect.current,data:i.data,disabled:i.disabled}:null,c={active:e,activatorEvent:t,collisions:n,delta:{x:a.x,y:a.y},over:s};(0,o.unstable_batchedUpdates)(()=>{it(s),null==l||l(c),R({type:"onDragOver",event:c})})},[ot]),(0,l.Es)(()=>{Fe.current={activatorEvent:ee,active:X,activeNode:de,collisionRect:rt,collisions:at,droppableRects:ie,draggableNodes:B,draggingNode:Ye,draggingNodeRect:We,droppableContainers:W,over:lt,scrollableAncestors:Xe,scrollAdjustedTranslate:nt},V.current={initial:We,translated:rt}},[X,de,at,rt,B,Ye,We,ie,W,lt,Xe,nt]),function(e){let{acceleration:t,activator:n=he.Pointer,canScroll:a,draggingRect:o,enabled:i,interval:s=5,order:c=pe.TreeOrder,pointerCoordinates:d,scrollableAncestors:u,scrollableAncestorRects:m,delta:f,threshold:h}=e;const p=function(e){let{delta:t,disabled:n}=e;const r=(0,l.ZC)(t);return(0,l.KG)(e=>{if(n||!r||!e)return ge;const a=Math.sign(t.x-r.x),o=Math.sign(t.y-r.y);return{x:{[j.Backward]:e.x[j.Backward]||-1===a,[j.Forward]:e.x[j.Forward]||1===a},y:{[j.Backward]:e.y[j.Backward]||-1===o,[j.Forward]:e.y[j.Forward]||1===o}}},[n,t,r])}({delta:f,disabled:!i}),[g,v]=(0,l.$$)(),y=(0,r.useRef)({x:0,y:0}),b=(0,r.useRef)({x:0,y:0}),E=(0,r.useMemo)(()=>{switch(n){case he.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case he.DraggableRect:return o}},[n,o,d]),w=(0,r.useRef)(null),x=(0,r.useCallback)(()=>{const e=w.current;if(!e)return;const t=y.current.x*b.current.x,n=y.current.y*b.current.y;e.scrollBy(t,n)},[]),C=(0,r.useMemo)(()=>c===pe.TreeOrder?[...u].reverse():u,[c,u]);(0,r.useEffect)(()=>{if(i&&u.length&&E){for(const e of C){if(!1===(null==a?void 0:a(e)))continue;const n=u.indexOf(e),r=m[n];if(!r)continue;const{direction:o,speed:l}=G(e,r,E,t,h);for(const e of["x","y"])p[e][o[e]]||(l[e]=0,o[e]=0);if(l.x>0||l.y>0)return v(),w.current=e,g(x,s),y.current=l,void(b.current=o)}y.current={x:0,y:0},b.current={x:0,y:0},v()}else v()},[t,x,a,v,i,s,JSON.stringify(E),JSON.stringify(p),g,u,C,m,JSON.stringify(h)])}({...me,delta:Y,draggingRect:rt,pointerCoordinates:Qe,scrollableAncestors:Xe,scrollableAncestorRects:Je});const ft=(0,r.useMemo)(()=>({active:X,activeNode:de,activeNodeRect:ye,activatorEvent:ee,collisions:at,containerNodeRect:xe,dragOverlay:Ie,draggableNodes:B,droppableContainers:W,droppableRects:ie,over:lt,measureDroppableContainers:se,scrollableAncestors:Xe,scrollableAncestorRects:Je,measuringConfiguration:oe,measuringScheduled:ce,windowRect:Ve}),[X,de,ye,ee,at,xe,Ie,B,W,ie,lt,se,Xe,Je,oe,ce,Ve]),ht=(0,r.useMemo)(()=>({activatorEvent:ee,activators:mt,active:X,activeNodeRect:ye,ariaDescribedById:{draggable:re},dispatch:N,draggableNodes:B,over:lt,measureDroppableContainers:se}),[ee,mt,X,ye,N,re,B,lt,se]);return a().createElement(s.Provider,{value:k},a().createElement(Oe.Provider,{value:ht},a().createElement(Le.Provider,{value:ft},a().createElement(je.Provider,{value:st},p)),a().createElement(Be,{disabled:!1===(null==f?void 0:f.restoreFocus)})),a().createElement(u,{...f,hiddenTextDescribedById:re}))}),We=(0,r.createContext)(null),Ge="button";function Ke(e){let{id:t,data:n,disabled:a=!1,attributes:o}=e;const i=(0,l.YG)("Draggable"),{activators:s,activatorEvent:c,active:d,activeNodeRect:u,ariaDescribedById:m,draggableNodes:f,over:h}=(0,r.useContext)(Oe),{role:p=Ge,roleDescription:g="draggable",tabIndex:v=0}=null!=o?o:{},y=(null==d?void 0:d.id)===t,b=(0,r.useContext)(y?je:We),[E,w]=(0,l.lk)(),[x,C]=(0,l.lk)(),S=function(e,t){return(0,r.useMemo)(()=>e.reduce((e,n)=>{let{eventName:r,handler:a}=n;return e[r]=e=>{a(e,t)},e},{}),[e,t])}(s,t),N=(0,l.YN)(n);return(0,l.Es)(()=>(f.set(t,{id:t,key:i,node:E,activatorNode:x,data:N}),()=>{const e=f.get(t);e&&e.key===i&&f.delete(t)}),[f,t]),{active:d,activatorEvent:c,activeNodeRect:u,attributes:(0,r.useMemo)(()=>({role:p,tabIndex:v,"aria-disabled":a,"aria-pressed":!(!y||p!==Ge)||void 0,"aria-roledescription":g,"aria-describedby":m.draggable}),[a,p,v,y,g,m.draggable]),isDragging:y,listeners:a?void 0:S,node:E,over:h,setNodeRef:w,setActivatorNodeRef:C,transform:b}}function $e(){return(0,r.useContext)(Le)}const Ve={timeout:25};function Xe(e){let{data:t,disabled:n=!1,id:a,resizeObserverConfig:o}=e;const i=(0,l.YG)("Droppable"),{active:s,dispatch:c,over:d,measureDroppableContainers:u}=(0,r.useContext)(Oe),f=(0,r.useRef)({disabled:n}),h=(0,r.useRef)(!1),p=(0,r.useRef)(null),g=(0,r.useRef)(null),{disabled:v,updateMeasurementsFor:y,timeout:b}={...Ve,...o},E=(0,l.YN)(null!=y?y:a),w=we({callback:(0,r.useCallback)(()=>{h.current?(null!=g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{u(Array.isArray(E.current)?E.current:[E.current]),g.current=null},b)):h.current=!0},[b]),disabled:v||!s}),x=(0,r.useCallback)((e,t)=>{w&&(t&&(w.unobserve(t),h.current=!1),e&&w.observe(e))},[w]),[C,S]=(0,l.lk)(x),N=(0,l.YN)(t);return(0,r.useEffect)(()=>{w&&C.current&&(w.disconnect(),h.current=!1,w.observe(C.current))},[C,w]),(0,r.useEffect)(()=>(c({type:m.RegisterDroppable,element:{id:a,key:i,disabled:n,node:C,rect:p,data:N}}),()=>c({type:m.UnregisterDroppable,key:i,id:a})),[a]),(0,r.useEffect)(()=>{n!==f.current.disabled&&(c({type:m.SetDroppableDisabled,id:a,key:i,disabled:n}),f.current.disabled=n)},[a,i,n,c]),{active:s,rect:p,isOver:(null==d?void 0:d.id)===a,node:C,over:d,setNodeRef:S}}function Je(e){let{animation:t,children:n}=e;const[o,i]=(0,r.useState)(null),[s,c]=(0,r.useState)(null),d=(0,l.ZC)(n);return n||o||!d||i(d),(0,l.Es)(()=>{if(!s)return;const e=null==o?void 0:o.key,n=null==o?void 0:o.props.id;null!=e&&null!=n?Promise.resolve(t(n,s)).then(()=>{i(null)}):i(null)},[t,o,s]),a().createElement(a().Fragment,null,n,o?(0,r.cloneElement)(o,{ref:c}):null)}const He={x:0,y:0,scaleX:1,scaleY:1};function Qe(e){let{children:t}=e;return a().createElement(Oe.Provider,{value:Ie},a().createElement(je.Provider,{value:He},t))}const Ze={position:"fixed",touchAction:"none"},et=e=>(0,l.kx)(e)?"transform 250ms ease":void 0,tt=(0,r.forwardRef)((e,t)=>{let{as:n,activatorEvent:r,adjustScale:o,children:i,className:s,rect:c,style:d,transform:u,transition:m=et}=e;if(!c)return null;const f=o?u:{...u,scaleX:1,scaleY:1},h={...Ze,width:c.width,height:c.height,top:c.top,left:c.left,transform:l.Ks.Transform.toString(f),transformOrigin:o&&r?y(r,c):void 0,transition:"function"==typeof m?m(r):m,...d};return a().createElement(n,{className:s,style:h,ref:t},i)}),nt=e=>t=>{let{active:n,dragOverlay:r}=t;const a={},{styles:o,className:l}=e;if(null!=o&&o.active)for(const[e,t]of Object.entries(o.active))void 0!==t&&(a[e]=n.node.style.getPropertyValue(e),n.node.style.setProperty(e,t));if(null!=o&&o.dragOverlay)for(const[e,t]of Object.entries(o.dragOverlay))void 0!==t&&r.node.style.setProperty(e,t);return null!=l&&l.active&&n.node.classList.add(l.active),null!=l&&l.dragOverlay&&r.node.classList.add(l.dragOverlay),function(){for(const[e,t]of Object.entries(a))n.node.style.setProperty(e,t);null!=l&&l.active&&n.node.classList.remove(l.active)}},rt={duration:250,easing:"ease",keyframes:e=>{let{transform:{initial:t,final:n}}=e;return[{transform:l.Ks.Transform.toString(t)},{transform:l.Ks.Transform.toString(n)}]},sideEffects:nt({styles:{active:{opacity:"0"}}})};let at=0;function ot(e){return(0,r.useMemo)(()=>{if(null!=e)return at++,at},[e])}const lt=a().memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:o,style:i,transition:s,modifiers:c,wrapperElement:d="div",className:u,zIndex:m=999}=e;const{activatorEvent:f,active:h,activeNodeRect:p,containerNodeRect:g,draggableNodes:v,droppableContainers:y,dragOverlay:b,over:E,measuringConfiguration:w,scrollableAncestors:x,scrollableAncestorRects:C,windowRect:S}=$e(),N=(0,r.useContext)(je),R=ot(null==h?void 0:h.id),_=ze(c,{activatorEvent:f,active:h,activeNodeRect:p,containerNodeRect:g,draggingNodeRect:b.rect,over:E,overlayNodeRect:b.rect,scrollableAncestors:x,scrollableAncestorRects:C,transform:N,windowRect:S}),D=Ee(p),k=function(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:a}=e;return(0,l._q)((e,o)=>{if(null===t)return;const i=n.get(e);if(!i)return;const s=i.node.current;if(!s)return;const c=De(o);if(!c)return;const{transform:d}=(0,l.zk)(o).getComputedStyle(o),u=A(d);if(!u)return;const m="function"==typeof t?t:function(e){const{duration:t,easing:n,sideEffects:r,keyframes:a}={...rt,...e};return e=>{let{active:o,dragOverlay:l,transform:i,...s}=e;if(!t)return;const c=l.rect.left-o.rect.left,d=l.rect.top-o.rect.top,u={scaleX:1!==i.scaleX?o.rect.width*i.scaleX/l.rect.width:1,scaleY:1!==i.scaleY?o.rect.height*i.scaleY/l.rect.height:1},m={x:i.x-c,y:i.y-d,...u},f=a({...s,active:o,dragOverlay:l,transform:{initial:i,final:m}}),[h]=f,p=f[f.length-1];if(JSON.stringify(h)===JSON.stringify(p))return;const g=null==r?void 0:r({active:o,dragOverlay:l,...s}),v=l.node.animate(f,{duration:t,easing:n,fill:"forwards"});return new Promise(e=>{v.onfinish=()=>{null==g||g(),e()}})}}(t);return V(s,a.draggable.measure),m({active:{id:e,data:i.data,node:s,rect:a.draggable.measure(s)},draggableNodes:n,dragOverlay:{node:o,rect:a.dragOverlay.measure(c)},droppableContainers:r,measuringConfiguration:a,transform:u})})}({config:o,draggableNodes:v,droppableContainers:y,measuringConfiguration:w}),T=D?b.setRef:void 0;return a().createElement(Qe,null,a().createElement(Je,{animation:k},h&&R?a().createElement(tt,{key:R,id:h.id,ref:T,as:d,activatorEvent:f,adjustScale:t,className:u,transition:s,rect:D,style:{zIndex:m,...i},transform:_},n):null))})},627(e,t,n){n.d(t,{JR:()=>N,_G:()=>m,gB:()=>p,gl:()=>x});var r=n(609),a=n.n(r),o=n(871),l=n(979);function i(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function s(e,t){return e.reduce((e,n,r)=>{const a=t.get(n);return a&&(e[r]=a),e},Array(e.length))}function c(e){return null!==e&&e>=0}const d=e=>{let{rects:t,activeIndex:n,overIndex:r,index:a}=e;const o=i(t,r,n),l=t[a],s=o[a];return s&&l?{x:s.left-l.left,y:s.top-l.top,scaleX:s.width/l.width,scaleY:s.height/l.height}:null},u={scaleX:1,scaleY:1},m=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:a,rects:o,overIndex:l}=e;const i=null!=(t=o[n])?t:r;if(!i)return null;if(a===n){const e=o[l];return e?{x:0,y:n<l?e.top+e.height-(i.top+i.height):e.top-i.top,...u}:null}const s=function(e,t,n){const r=e[t],a=e[t-1],o=e[t+1];return r?n<t?a?r.top-(a.top+a.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):a?r.top-(a.top+a.height):0:0}(o,a,n);return a>n&&a<=l?{x:0,y:-i.height-s,...u}:a<n&&a>=l?{x:0,y:i.height+s,...u}:{x:0,y:0,...u}},f="Sortable",h=a().createContext({activeIndex:-1,containerId:f,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:d,disabled:{draggable:!1,droppable:!1}});function p(e){let{children:t,id:n,items:i,strategy:c=d,disabled:u=!1}=e;const{active:m,dragOverlay:p,droppableRects:g,over:v,measureDroppableContainers:y}=(0,o.fF)(),b=(0,l.YG)(f,n),E=Boolean(null!==p.rect),w=(0,r.useMemo)(()=>i.map(e=>"object"==typeof e&&"id"in e?e.id:e),[i]),x=null!=m,C=m?w.indexOf(m.id):-1,S=v?w.indexOf(v.id):-1,N=(0,r.useRef)(w),R=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(w,N.current),_=-1!==S&&-1===C||R,D=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(u);(0,l.Es)(()=>{R&&x&&y(w)},[R,w,x,y]),(0,r.useEffect)(()=>{N.current=w},[w]);const k=(0,r.useMemo)(()=>({activeIndex:C,containerId:b,disabled:D,disableTransforms:_,items:w,overIndex:S,useDragOverlay:E,sortedRects:s(w,g),strategy:c}),[C,b,D.draggable,D.droppable,_,w,S,g,E,c]);return a().createElement(h.Provider,{value:k},t)}const g=e=>{let{id:t,items:n,activeIndex:r,overIndex:a}=e;return i(n,r,a).indexOf(t)},v=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:a,items:o,newIndex:l,previousItems:i,previousContainerId:s,transition:c}=e;return!(!c||!r||i!==o&&a===l||!n&&(l===a||t!==s))},y={duration:200,easing:"ease"},b="transform",E=l.Ks.Transition.toString({property:b,duration:0,easing:"linear"}),w={roleDescription:"sortable"};function x(e){let{animateLayoutChanges:t=v,attributes:n,disabled:a,data:i,getNewIndex:s=g,id:d,strategy:u,resizeObserverConfig:m,transition:f=y}=e;const{items:p,containerId:x,activeIndex:C,disabled:S,disableTransforms:N,sortedRects:R,overIndex:_,useDragOverlay:D,strategy:k}=(0,r.useContext)(h),T=function(e,t){var n,r;return"boolean"==typeof e?{draggable:e,droppable:!1}:{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(r=null==e?void 0:e.droppable)?r:t.droppable}}(a,S),A=p.indexOf(d),F=(0,r.useMemo)(()=>({sortable:{containerId:x,index:A,items:p},...i}),[x,i,A,p]),M=(0,r.useMemo)(()=>p.slice(p.indexOf(d)),[p,d]),{rect:I,node:O,isOver:L,setNodeRef:P}=(0,o.zM)({id:d,data:F,disabled:T.droppable,resizeObserverConfig:{updateMeasurementsFor:M,...m}}),{active:U,activatorEvent:B,activeNodeRect:z,attributes:j,setNodeRef:q,listeners:Y,isDragging:W,over:G,setActivatorNodeRef:K,transform:$}=(0,o.PM)({id:d,data:F,attributes:{...w,...n},disabled:T.draggable}),V=(0,l.jn)(P,q),X=Boolean(U),J=X&&!N&&c(C)&&c(_),H=!D&&W,Q=H&&J?$:null,Z=J?null!=Q?Q:(null!=u?u:k)({rects:R,activeNodeRect:z,activeIndex:C,overIndex:_,index:A}):null,ee=c(C)&&c(_)?s({id:d,items:p,activeIndex:C,overIndex:_}):A,te=null==U?void 0:U.id,ne=(0,r.useRef)({activeId:te,items:p,newIndex:ee,containerId:x}),re=p!==ne.current.items,ae=t({active:U,containerId:x,isDragging:W,isSorting:X,id:d,index:A,items:p,newIndex:ne.current.newIndex,previousItems:ne.current.items,previousContainerId:ne.current.containerId,transition:f,wasDragging:null!=ne.current.activeId}),oe=function(e){let{disabled:t,index:n,node:a,rect:i}=e;const[s,c]=(0,r.useState)(null),d=(0,r.useRef)(n);return(0,l.Es)(()=>{if(!t&&n!==d.current&&a.current){const e=i.current;if(e){const t=(0,o.Sj)(a.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&c(n)}}n!==d.current&&(d.current=n)},[t,n,a,i]),(0,r.useEffect)(()=>{s&&c(null)},[s]),s}({disabled:!ae,index:A,node:O,rect:I});return(0,r.useEffect)(()=>{X&&ne.current.newIndex!==ee&&(ne.current.newIndex=ee),x!==ne.current.containerId&&(ne.current.containerId=x),p!==ne.current.items&&(ne.current.items=p)},[X,ee,x,p]),(0,r.useEffect)(()=>{if(te===ne.current.activeId)return;if(te&&!ne.current.activeId)return void(ne.current.activeId=te);const e=setTimeout(()=>{ne.current.activeId=te},50);return()=>clearTimeout(e)},[te]),{active:U,activeIndex:C,attributes:j,data:F,rect:I,index:A,newIndex:ee,items:p,isOver:L,isSorting:X,isDragging:W,listeners:Y,node:O,overIndex:_,over:G,setNodeRef:V,setActivatorNodeRef:K,setDroppableNodeRef:P,setDraggableNodeRef:q,transform:null!=oe?oe:Z,transition:oe||re&&ne.current.newIndex===A?E:H&&!(0,l.kx)(B)||!f?void 0:X||ae?l.Ks.Transition.toString({...f,property:b}):void 0}}function C(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const S=[o.vL.Down,o.vL.Right,o.vL.Up,o.vL.Left],N=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:a,droppableContainers:i,over:s,scrollableAncestors:c}}=t;if(S.includes(e.code)){if(e.preventDefault(),!n||!r)return;const t=[];i.getEnabled().forEach(n=>{if(!n||null!=n&&n.disabled)return;const l=a.get(n.id);if(l)switch(e.code){case o.vL.Down:r.top<l.top&&t.push(n);break;case o.vL.Up:r.top>l.top&&t.push(n);break;case o.vL.Left:r.left>l.left&&t.push(n);break;case o.vL.Right:r.left<l.left&&t.push(n)}});const m=(0,o.y$)({active:n,collisionRect:r,droppableRects:a,droppableContainers:t,pointerCoordinates:null});let f=(0,o.Vy)(m,"id");if(f===(null==s?void 0:s.id)&&m.length>1&&(f=m[1].id),null!=f){const e=i.get(n.id),t=i.get(f),s=t?a.get(t.id):null,m=null==t?void 0:t.node.current;if(m&&s&&e&&t){const n=(0,o.sl)(m).some((e,t)=>c[t]!==e),a=R(e,t),i=(u=t,!(!C(d=e)||!C(u))&&!!R(d,u)&&d.data.current.sortable.index<u.data.current.sortable.index),f=n||!a?{x:0,y:0}:{x:i?r.width-s.width:0,y:i?r.height-s.height:0},h={x:s.left,y:s.top};return f.x&&f.y?h:(0,l.Re)(h,f)}}}var d,u};function R(e,t){return!(!C(e)||!C(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}},979(e,t,n){n.d(t,{$$:()=>p,Es:()=>f,KG:()=>v,Ks:()=>_,Ll:()=>i,Re:()=>S,Sw:()=>o,TW:()=>m,WQ:()=>C,YG:()=>w,YN:()=>g,ZC:()=>b,_q:()=>h,ag:()=>k,e_:()=>R,jn:()=>a,kx:()=>N,l6:()=>l,lk:()=>y,sb:()=>d,wz:()=>c,xZ:()=>u,zk:()=>s});var r=n(609);function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}const o="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function l(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function i(e){return"nodeType"in e}function s(e){var t,n;return e?l(e)?e:i(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function c(e){const{Document:t}=s(e);return e instanceof t}function d(e){return!l(e)&&e instanceof s(e).HTMLElement}function u(e){return e instanceof s(e).SVGElement}function m(e){return e?l(e)?e.document:i(e)?c(e)?e:d(e)||u(e)?e.ownerDocument:document:document:document}const f=o?r.useLayoutEffect:r.useEffect;function h(e){const t=(0,r.useRef)(e);return f(()=>{t.current=e}),(0,r.useCallback)(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}function p(){const e=(0,r.useRef)(null);return[(0,r.useCallback)((t,n)=>{e.current=setInterval(t,n)},[]),(0,r.useCallback)(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}function g(e,t){void 0===t&&(t=[e]);const n=(0,r.useRef)(e);return f(()=>{n.current!==e&&(n.current=e)},t),n}function v(e,t){const n=(0,r.useRef)();return(0,r.useMemo)(()=>{const t=e(n.current);return n.current=t,t},[...t])}function y(e){const t=h(e),n=(0,r.useRef)(null),a=(0,r.useCallback)(e=>{e!==n.current&&(null==t||t(e,n.current)),n.current=e},[]);return[n,a]}function b(e){const t=(0,r.useRef)();return(0,r.useEffect)(()=>{t.current=e},[e]),t.current}let E={};function w(e,t){return(0,r.useMemo)(()=>{if(t)return t;const n=null==E[e]?0:E[e]+1;return E[e]=n,e+"-"+n},[e,t])}function x(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((t,n)=>{const r=Object.entries(n);for(const[n,a]of r){const r=t[n];null!=r&&(t[n]=r+e*a)}return t},{...t})}}const C=x(1),S=x(-1);function N(e){if(!e)return!1;const{KeyboardEvent:t}=s(e.target);return t&&e instanceof t}function R(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=s(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const _=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[_.Translate.toString(e),_.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),D="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function k(e){return e.matches(D)?e:e.querySelector(D)}},29(e,t,n){n.d(t,{A:()=>c});var r=n(609),a=n(723),o=n(427),l=n(87),i=n(607),s=n(195);const c=({onEdit:e,onCreate:t})=>{const n=(0,i.A)(e=>e.forms),c=(0,i.A)(e=>e.isLoadingForms),d=(0,i.A)(e=>e.fetchForms),u=(0,i.A)(e=>e.deleteForm),m=(0,i.A)(e=>e.cloneForm),f=(0,i.A)(e=>e.exportForms),h=(0,i.A)(e=>e.importForms),p=(0,i.A)(e=>e.createFromTemplate),g=(0,s.d)(),[v,y]=(0,l.useState)(null),[b,E]=(0,l.useState)(!1),w=(0,l.useRef)(null);if((0,l.useEffect)(()=>{d()},[]),c)return(0,r.createElement)("div",{className:"chatty-forms-dashboard-view"},(0,r.createElement)(o.Spinner,null));const x=()=>y(null),C=()=>{w.current?.click()},S=async e=>{const t=e.target.files?.[0];if(t){try{const e=await t.text(),n=JSON.parse(e);if(!n.forms||!Array.isArray(n.forms))return void g.error("Invalid import file  no forms found.");const r=await h(n);r&&g.success(`${r.imported} form(s) imported!`)}catch(e){g.error("Failed to parse import file.")}e.target.value=""}};return b?(0,r.createElement)("div",{className:"chatty-forms-dashboard-view"},(0,r.createElement)("div",{className:"chatty-forms-list-header"},(0,r.createElement)("h2",null,(0,a.__)("Choose a Template","chatty-forms")),(0,r.createElement)("div",{style:{display:"flex",gap:"8px"}},(0,r.createElement)(o.Button,{variant:"tertiary",onClick:()=>E(!1)},(0,a.__)(" Back","chatty-forms")),(0,r.createElement)(o.Button,{variant:"primary",onClick:t},(0,a.__)("Blank Form","chatty-forms")))),(0,r.createElement)("div",{className:"chatty-forms-template-grid"},i.J.map(t=>(0,r.createElement)("div",{key:t.id,className:"chatty-forms-template-card",onClick:()=>(async t=>{const n=await p(t);n?.id&&(g.success(`"${t.title}" created from template!`),await d(),e(n.id)),E(!1)})(t)},(0,r.createElement)("div",{className:"chatty-forms-template-icon"},t.icon),(0,r.createElement)("h3",null,t.title),(0,r.createElement)("p",null,t.description),(0,r.createElement)("span",{className:"chatty-forms-template-fields"},t.fields.length," field",1!==t.fields.length?"s":""))))):n.length?(0,r.createElement)("div",{className:"chatty-forms-dashboard-view"},(0,r.createElement)("div",{className:"chatty-forms-list-header"},(0,r.createElement)("h2",null,(0,a.__)("All Forms","chatty-forms")),(0,r.createElement)("div",{style:{display:"flex",gap:"8px"}},(0,r.createElement)(o.Button,{variant:"tertiary",onClick:C},(0,a.__)("Import","chatty-forms")),(0,r.createElement)(o.Button,{variant:"tertiary",onClick:async()=>{const e=await f([]);if(e){const t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=`chatty-forms-export-${(new Date).toISOString().slice(0,10)}.json`,r.click(),URL.revokeObjectURL(n),g.success(`${e.count} form(s) exported.`)}}},(0,a.__)("Export All","chatty-forms")),(0,r.createElement)(o.Button,{variant:"secondary",onClick:()=>E(!0)},(0,a.__)("Templates","chatty-forms")),(0,r.createElement)(o.Button,{variant:"primary",onClick:t},(0,a.__)("+ New Form","chatty-forms")))),(0,r.createElement)("table",{className:"chatty-forms-table"},(0,r.createElement)("thead",null,(0,r.createElement)("tr",null,(0,r.createElement)("th",null,(0,a.__)("Title","chatty-forms")),(0,r.createElement)("th",null,(0,a.__)("Status","chatty-forms")),(0,r.createElement)("th",null,(0,a.__)("Submissions","chatty-forms")),(0,r.createElement)("th",null,(0,a.__)("Shortcode","chatty-forms")),(0,r.createElement)("th",null,(0,a.__)("Updated","chatty-forms")),(0,r.createElement)("th",null,(0,a.__)("Actions","chatty-forms")))),(0,r.createElement)("tbody",null,n.map(t=>(0,r.createElement)("tr",{key:t.id,onClick:()=>e(t.id),style:{cursor:"pointer"}},(0,r.createElement)("td",null,(0,r.createElement)("a",{href:"#",onClick:n=>{n.preventDefault(),e(t.id)},className:"chatty-forms-title-link"},t.title)),(0,r.createElement)("td",null,(0,r.createElement)("span",{className:`chatty-forms-status-badge ${t.status}`},t.status)),(0,r.createElement)("td",null,t.submissions||0),(0,r.createElement)("td",null,(0,r.createElement)("code",{className:"chatty-forms-shortcode"},'[chatty_form id="',t.id,'"]')),(0,r.createElement)("td",null,t.updated_at),(0,r.createElement)("td",{onClick:e=>e.stopPropagation()},v===t.id?(0,r.createElement)("div",{className:"chatty-forms-inline-confirm"},(0,r.createElement)("span",null,"Delete?"),(0,r.createElement)(o.Button,{variant:"primary",isDestructive:!0,size:"small",onClick:()=>(async(e,t)=>{await u(e),y(null),g.success(`"${t}" deleted.`)})(t.id,t.title)},(0,a.__)("Yes","chatty-forms")),(0,r.createElement)(o.Button,{variant:"tertiary",size:"small",onClick:x},(0,a.__)("No","chatty-forms"))):(0,r.createElement)("div",{style:{display:"flex",gap:"8px"}},(0,r.createElement)(o.Button,{variant:"tertiary",size:"small",onClick:()=>e(t.id)},(0,a.__)("Edit","chatty-forms")),(0,r.createElement)(o.Button,{variant:"tertiary",size:"small",onClick:()=>(async(e,t)=>{await m(e)&&g.success(`"${t}" cloned!`)})(t.id,t.title)},(0,a.__)("Clone","chatty-forms")),(0,r.createElement)(o.Button,{variant:"tertiary",size:"small",isDestructive:!0,onClick:()=>{return e=t.id,y(e);var e}},(0,a.__)("Delete","chatty-forms")))))))),(0,r.createElement)("input",{type:"file",ref:w,accept:".json",style:{display:"none"},onChange:S})):(0,r.createElement)("div",{className:"chatty-forms-dashboard-view"},(0,r.createElement)("div",{className:"chatty-forms-empty-placeholder"},(0,r.createElement)("h2",null,(0,a.__)("No forms yet","chatty-forms")),(0,r.createElement)("p",null,(0,a.__)("Create your first form to get started.","chatty-forms")),(0,r.createElement)("div",{style:{display:"flex",gap:"12px",justifyContent:"center"}},(0,r.createElement)(o.Button,{variant:"primary",onClick:t},(0,a.__)("Blank Form","chatty-forms")),(0,r.createElement)(o.Button,{variant:"secondary",onClick:()=>E(!0)},(0,a.__)("Use a Template","chatty-forms")),(0,r.createElement)(o.Button,{variant:"tertiary",onClick:C},(0,a.__)("Import","chatty-forms")))),(0,r.createElement)("input",{type:"file",ref:w,accept:".json",style:{display:"none"},onChange:S}))}},646(e,t,n){n.d(t,{A:()=>s});var r=n(609),a=n(627),o=n(871),l=n(607),i=n(651);const s=()=>{const e=(0,l.A)(e=>e.fields),{setNodeRef:t}=(0,o.zM)({id:"canvas-droppable"});return(0,r.createElement)("div",{className:"chatty-forms-canvas",ref:t},(0,r.createElement)(a.gB,{items:e.map(e=>e.id),strategy:a._G},0===e.length?(0,r.createElement)("div",{className:"chatty-forms-empty-state"},"Drag fields here from the left sidebar."):e.map(e=>(0,r.createElement)(i.A,{key:e.id,field:e}))))}},877(e,t,n){n.d(t,{A:()=>p});var r=n(609),a=n(723),o=n(427),l=n(87),i=n(871),s=n(627),c=n(607),d=n(195),u=n(579),m=n(646),f=n(199),h=n(665);const p=({onBack:e})=>{const t=(0,c.A)(e=>e.form),n=(0,c.A)(e=>e.fields),p=(0,c.A)(e=>e.isSaving),g=(0,c.A)(e=>e.hasUnsavedChanges),v=(0,c.A)(e=>e.saveForm),y=(0,c.A)(e=>e.setFormTitle),b=(0,c.A)(e=>e.addField),E=(0,c.A)(e=>e.moveField),w=(0,c.A)(e=>e.setIsDragging),x=(0,d.d)(),[C,S]=(0,l.useState)(null),[N,R]=(0,l.useState)("builder"),_=(0,i.FR)((0,i.MS)(i.AN,{activationConstraint:{distance:5}}),(0,i.MS)(i.uN,{coordinateGetter:s.JR}));return(0,r.createElement)(i.Mp,{sensors:_,collisionDetection:i.fp,onDragStart:e=>{w(!0);const{active:t}=e;if(t.data.current?.isPalette){const e=u.b.find(e=>e.type===t.data.current.type);S({source:"palette",label:e?.label||t.data.current.type})}else{const e=n.find(e=>e.id===t.id);S({source:"canvas",label:e?.label||"Field"})}},onDragEnd:e=>{w(!1),S(null);const{active:t,over:r}=e;if(r)if(t.data.current?.isPalette)if("canvas-droppable"===r.id)b(t.data.current.type);else{const e=n.findIndex(e=>e.id===r.id);b(t.data.current.type,e>=0?e:null)}else if(t.id!==r.id){const e=n.findIndex(e=>e.id===t.id),a=n.findIndex(e=>e.id===r.id);e>=0&&a>=0&&E(e,a)}},onDragCancel:()=>{w(!1),S(null)}},(0,r.createElement)("div",{className:"chatty-forms-editor-wrapper"},(0,r.createElement)("div",{className:"chatty-forms-editor-toolbar"},(0,r.createElement)("div",{className:"chatty-forms-toolbar-left"},(0,r.createElement)(o.Button,{variant:"tertiary",onClick:e,icon:"arrow-left-alt"},(0,a.__)("Back","chatty-forms")),(0,r.createElement)("input",{className:"chatty-forms-title-input",type:"text",value:t.title,onChange:e=>y(e.target.value),placeholder:"Form title..."}),g&&(0,r.createElement)("span",{className:"chatty-forms-unsaved-badge"},"Unsaved")),(0,r.createElement)("div",{className:"chatty-forms-toolbar-right"},(0,r.createElement)("div",{className:"chatty-forms-tab-switcher"},(0,r.createElement)("button",{className:"chatty-forms-tab "+("builder"===N?"active":""),onClick:()=>R("builder")},(0,r.createElement)("span",{className:"dashicons dashicons-edit"}),(0,a.__)("Builder","chatty-forms")),(0,r.createElement)("button",{className:"chatty-forms-tab "+("settings"===N?"active":""),onClick:()=>R("settings")},(0,r.createElement)("span",{className:"dashicons dashicons-admin-generic"}),(0,a.__)("Settings","chatty-forms"))),t.id&&(0,r.createElement)("code",{className:"chatty-forms-shortcode-inline"},'[chatty_form id="',t.id,'"]'),(0,r.createElement)(o.Button,{variant:"primary",onClick:async()=>{try{await v(),x.success("Form saved successfully!")}catch(e){x.error("Failed to save form.")}},isBusy:p,disabled:p},p?(0,a.__)("Saving...","chatty-forms"):(0,a.__)("Save Form","chatty-forms")))),"builder"===N?(0,r.createElement)("div",{className:"chatty-forms-editor"},(0,r.createElement)("aside",{className:"chatty-forms-palette"},(0,r.createElement)("h3",null,(0,a.__)("Fields","chatty-forms")),(0,r.createElement)(u.A,null)),(0,r.createElement)("section",{className:"chatty-forms-canvas-container"},(0,r.createElement)(m.A,null)),(0,r.createElement)("aside",{className:"chatty-forms-properties"},(0,r.createElement)("h3",null,(0,a.__)("Properties","chatty-forms")),(0,r.createElement)(f.A,null))):(0,r.createElement)("div",{className:"chatty-forms-settings-view"},(0,r.createElement)(h.A,null))),(0,r.createElement)(i.Hd,{dropAnimation:null},C?(0,r.createElement)("div",{className:"chatty-forms-drag-overlay"},(0,r.createElement)("span",{className:"dashicons dashicons-editor-justify"}),C.label):null))}},651(e,t,n){n.d(t,{A:()=>i});var r=n(609),a=n(627),o=n(979),l=n(607);const i=({field:e})=>{const{attributes:t,listeners:n,setNodeRef:i,transform:s,transition:c}=(0,a.gl)({id:e.id}),d=(0,l.A)(e=>e.selectField),u=(0,l.A)(e=>e.selectedFieldId),m={transform:o.Ks.Transform.toString(s),transition:c},f=u===e.id;return(0,r.createElement)("div",{ref:i,style:m,...t,...n,className:"chatty-forms-field-item "+(f?"is-selected":""),onClick:()=>d(e.id)},(0,r.createElement)("label",null,e.label," ",e.required&&(0,r.createElement)("span",{className:"required"},"*")),(()=>{switch(e.type){case"textarea":return(0,r.createElement)("textarea",{placeholder:e.placeholder,disabled:!0});case"select":return(0,r.createElement)("select",{disabled:!0},(0,r.createElement)("option",null,"Option 1"));case"address":return(0,r.createElement)("div",{className:"chatty-forms-address-preview"},(0,r.createElement)("input",{type:"text",placeholder:"Street Address",disabled:!0}),(0,r.createElement)("input",{type:"text",placeholder:"City",disabled:!0}),(0,r.createElement)("div",{className:"chatty-forms-address-row"},(0,r.createElement)("input",{type:"text",placeholder:"State",disabled:!0}),(0,r.createElement)("input",{type:"text",placeholder:"ZIP",disabled:!0})));case"name":return(0,r.createElement)("div",{className:"chatty-forms-address-row"},(0,r.createElement)("input",{type:"text",placeholder:"First Name",disabled:!0}),(0,r.createElement)("input",{type:"text",placeholder:"Last Name",disabled:!0}));case"phone":return(0,r.createElement)("input",{type:"tel",placeholder:e.placeholder||"(555) 123-4567",disabled:!0});case"url":return(0,r.createElement)("input",{type:"url",placeholder:e.placeholder||"https://",disabled:!0});case"custom":return(0,r.createElement)("input",{type:e.htmlType||"text",placeholder:e.placeholder||"Custom field...",disabled:!0});case"photo":return(0,r.createElement)("div",{className:"chatty-forms-photo-preview",style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px",background:"#1a202c",borderRadius:"6px",border:"1px dashed #4a5568"}},(0,r.createElement)("span",{style:{fontSize:"24px"}},""),(0,r.createElement)("span",{style:{color:"#a0aec0",fontSize:"13px"}},"Photo Upload (max ",e.maxPhotos||1,")"));default:return(0,r.createElement)("input",{type:"email"===e.type?"email":"text",placeholder:e.placeholder,disabled:!0})}})())}},665(e,t,n){n.d(t,{A:()=>c});var r=n(609),a=n(723),o=n(427),l=n(607);const i=[{label:"Show Success Message",value:"message"},{label:"Deliver Download",value:"download"},{label:"Redirect to URL",value:"redirect"}],s=[{label:"None  Deliver Immediately",value:"none"},{label:"Social Share Required",value:"share"},{label:"Social Login Required",value:"login"},{label:"Form + Share Required",value:"form_share"},{label:"Form + Login Required",value:"form_login"}],c=()=>{const e=(0,l.A)(e=>e.settings),t=(0,l.A)(e=>e.updateSettings),n=()=>{const e=wp.media({title:(0,a.__)("Select Download File","chatty-forms"),button:{text:(0,a.__)("Use this file","chatty-forms")},multiple:!1});e.on("select",()=>{const n=e.state().get("selection").first().toJSON();t({downloadUrl:n.url,downloadFilename:n.filename,downloadFilesize:n.filesizeHumanReadable})}),e.open()};return(0,r.createElement)("div",{className:"chatty-forms-settings-panel"},(0,r.createElement)("div",{className:"chatty-forms-settings-section"},(0,r.createElement)("h4",null,(0,a.__)("Appearance","chatty-forms")),(0,r.createElement)(o.SelectControl,{label:(0,a.__)("Theme Mode","chatty-forms"),value:e.theme||"light",options:[{label:" Light",value:"light"},{label:" Dark",value:"dark"},{label:" Auto (follows OS)",value:"auto"}],onChange:e=>t({theme:e})})),(0,r.createElement)("div",{className:"chatty-forms-settings-section"},(0,r.createElement)("h4",null,(0,a.__)("After Submission","chatty-forms")),(0,r.createElement)(o.SelectControl,{label:(0,a.__)("Delivery Type","chatty-forms"),value:e.deliveryType||"message",options:i,onChange:e=>t({deliveryType:e})}),"message"===e.deliveryType&&(0,r.createElement)(o.TextareaControl,{label:(0,a.__)("Success Message","chatty-forms"),value:e.successMessage||"Thank you! Your submission has been received.",onChange:e=>t({successMessage:e}),rows:3}),"download"===e.deliveryType&&(0,r.createElement)("div",{className:"chatty-forms-file-picker"},(0,r.createElement)("label",null,(0,a.__)("Download File","chatty-forms")),e.downloadUrl?(0,r.createElement)("div",{className:"chatty-forms-file-selected"},(0,r.createElement)("div",{className:"chatty-forms-file-info"},(0,r.createElement)("span",{className:"dashicons dashicons-media-default"}),(0,r.createElement)("div",null,(0,r.createElement)("strong",null,e.downloadFilename||"File"),e.downloadFilesize&&(0,r.createElement)("small",null,e.downloadFilesize))),(0,r.createElement)("div",{className:"chatty-forms-file-actions"},(0,r.createElement)(o.Button,{variant:"secondary",size:"small",onClick:n},(0,a.__)("Change","chatty-forms")),(0,r.createElement)(o.Button,{variant:"tertiary",size:"small",isDestructive:!0,onClick:()=>t({downloadUrl:"",downloadFilename:"",downloadFilesize:""})},(0,a.__)("Remove","chatty-forms")))):(0,r.createElement)(o.Button,{variant:"secondary",onClick:n},(0,r.createElement)("span",{className:"dashicons dashicons-upload"}),(0,a.__)("Select File","chatty-forms"))),"redirect"===e.deliveryType&&(0,r.createElement)(o.TextControl,{label:(0,a.__)("Redirect URL","chatty-forms"),value:e.redirectUrl||"",onChange:e=>t({redirectUrl:e}),placeholder:"https://example.com/thank-you"})),(0,r.createElement)("div",{className:"chatty-forms-settings-section"},(0,r.createElement)("h4",null,(0,a.__)("Content Gate","chatty-forms")),(0,r.createElement)("p",{className:"chatty-forms-settings-help"},(0,a.__)("Require visitors to share or login before accessing content.","chatty-forms")),(0,r.createElement)(o.SelectControl,{label:(0,a.__)("Gate Type","chatty-forms"),value:e.gateType||"none",options:s,onChange:e=>t({gateType:e})}),("share"===e.gateType||"form_share"===e.gateType)&&(0,r.createElement)("div",{className:"chatty-forms-share-settings"},(0,r.createElement)("label",{className:"chatty-forms-settings-label"},(0,a.__)("Share Platforms","chatty-forms")),(0,r.createElement)(o.ToggleControl,{label:"Facebook",checked:!1!==e.shareFacebook,onChange:e=>t({shareFacebook:e})}),(0,r.createElement)(o.ToggleControl,{label:"X (Twitter)",checked:!1!==e.shareTwitter,onChange:e=>t({shareTwitter:e})}),(0,r.createElement)(o.ToggleControl,{label:"LinkedIn",checked:!1!==e.shareLinkedin,onChange:e=>t({shareLinkedin:e})}),(0,r.createElement)(o.TextControl,{label:(0,a.__)("Share Text","chatty-forms"),value:e.shareText||"",onChange:e=>t({shareText:e}),placeholder:"Check out this awesome resource!"}),(0,r.createElement)(o.TextControl,{label:(0,a.__)("Share URL","chatty-forms"),value:e.shareUrl||"",onChange:e=>t({shareUrl:e}),placeholder:"Leave blank for current page URL"})),("login"===e.gateType||"form_login"===e.gateType)&&(0,r.createElement)("div",{className:"chatty-forms-login-settings"},(0,r.createElement)("label",{className:"chatty-forms-settings-label"},(0,a.__)("Login Providers","chatty-forms")),(0,r.createElement)(o.ToggleControl,{label:"Google",checked:!1!==e.loginGoogle,onChange:e=>t({loginGoogle:e})}),(0,r.createElement)(o.ToggleControl,{label:"Facebook",checked:!1!==e.loginFacebook,onChange:e=>t({loginFacebook:e})}),(0,r.createElement)(o.ToggleControl,{label:"Instagram",checked:!1!==e.loginInstagram,onChange:e=>t({loginInstagram:e})}),(0,r.createElement)("p",{className:"chatty-forms-settings-note"},(0,r.createElement)("span",{className:"dashicons dashicons-info"}),(0,a.__)("OAuth credentials must be configured in CHATTY Forms  Settings.","chatty-forms")))),(0,r.createElement)("div",{className:"chatty-forms-settings-section"},(0,r.createElement)("h4",null,(0,a.__)("Social Login (Auto-Fill)","chatty-forms")),(0,r.createElement)("p",{className:"chatty-forms-settings-help"},(0,a.__)("Let visitors login with social accounts to pre-fill form fields.","chatty-forms")),(0,r.createElement)(o.ToggleControl,{label:(0,a.__)("Enable Social Login Buttons","chatty-forms"),checked:e.enableSocialLogin||!1,onChange:e=>t({enableSocialLogin:e})}),e.enableSocialLogin&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(o.ToggleControl,{label:"Google",checked:!1!==e.socialGoogle,onChange:e=>t({socialGoogle:e})}),(0,r.createElement)(o.ToggleControl,{label:"Facebook",checked:!1!==e.socialFacebook,onChange:e=>t({socialFacebook:e})}),(0,r.createElement)(o.ToggleControl,{label:"Instagram",checked:!1!==e.socialInstagram,onChange:e=>t({socialInstagram:e})}))))}},579(e,t,n){n.d(t,{A:()=>c,b:()=>s});var r=n(609),a=n(723),o=n(871),l=n(607);const i=({type:e,label:t,icon:n})=>{const{attributes:a,listeners:l,setNodeRef:i,isDragging:s}=(0,o.PM)({id:`palette-${e}`,data:{type:e,isPalette:!0}});return(0,r.createElement)("div",{ref:i,...l,...a,className:"chatty-forms-palette-item "+(s?"is-dragging":"")},(0,r.createElement)("span",{className:"dashicons dashicons-editor-justify"}),t)},s=[{type:"text",label:(0,a.__)("Text Field","chatty-forms")},{type:"name",label:(0,a.__)("Name","chatty-forms")},{type:"email",label:(0,a.__)("Email Address","chatty-forms")},{type:"phone",label:(0,a.__)("Phone Number","chatty-forms")},{type:"address",label:(0,a.__)("Address","chatty-forms")},{type:"url",label:(0,a.__)("Website URL","chatty-forms")},{type:"textarea",label:(0,a.__)("Paragraph Text","chatty-forms")},{type:"number",label:(0,a.__)("Number","chatty-forms")},{type:"select",label:(0,a.__)("Dropdown","chatty-forms")},{type:"checkbox",label:(0,a.__)("Checkboxes","chatty-forms")},{type:"radio",label:(0,a.__)("Radio Buttons","chatty-forms")},{type:"date",label:(0,a.__)("Date Picker","chatty-forms")},{type:"photo",label:(0,a.__)(" Photo Upload","chatty-forms")}],c=()=>{const e=(0,l.A)(e=>e.addField);return(0,r.createElement)("div",{className:"chatty-forms-palette-list"},s.map(e=>(0,r.createElement)(i,{key:e.type,...e})),(0,r.createElement)("button",{className:"chatty-forms-custom-field-btn",onClick:()=>{e("custom")}},(0,r.createElement)("span",{className:"dashicons dashicons-plus-alt2"}),(0,a.__)("Custom Field","chatty-forms")))}},199(e,t,n){n.d(t,{A:()=>s});var r=n(609),a=n(723),o=n(427),l=n(607);const i=[{label:"Text",value:"text"},{label:"Name",value:"name"},{label:"Email",value:"email"},{label:"Phone",value:"phone"},{label:"Address",value:"address"},{label:"URL",value:"url"},{label:"Paragraph",value:"textarea"},{label:"Number",value:"number"},{label:"Dropdown",value:"select"},{label:"Checkboxes",value:"checkbox"},{label:"Radio Buttons",value:"radio"},{label:"Date",value:"date"},{label:"Photo Upload",value:"photo"},{label:"Custom",value:"custom"}],s=()=>{const e=(0,l.A)(e=>e.selectedFieldId),t=(0,l.A)(e=>e.fields),n=(0,l.A)(e=>e.updateField),s=(0,l.A)(e=>e.removeField),c=t.find(t=>t.id===e);if(!c)return(0,r.createElement)("div",{className:"chatty-forms-properties-empty"},(0,a.__)("Select a field to edit its properties.","chatty-forms"));const d=(e,t)=>{n(c.id,{[e]:t})};return(0,r.createElement)("div",{className:"chatty-forms-field-properties"},(0,r.createElement)("div",{className:"chatty-forms-prop-header"},(0,r.createElement)("h4",null,c.label||"Field"," Properties"),(0,r.createElement)("button",{className:"button-link-delete",onClick:()=>s(c.id),style:{color:"var(--chatty-status-error-light)",border:"none",background:"none",cursor:"pointer"}},(0,a.__)("Delete","chatty-forms"))),(0,r.createElement)(o.SelectControl,{label:(0,a.__)("Field Type","chatty-forms"),value:c.type,options:i,onChange:e=>d("type",e)}),(0,r.createElement)(o.TextControl,{label:(0,a.__)("Label","chatty-forms"),value:c.label,onChange:e=>d("label",e)}),(0,r.createElement)(o.TextControl,{label:(0,a.__)("Placeholder","chatty-forms"),value:c.placeholder,onChange:e=>d("placeholder",e)}),(0,r.createElement)(o.ToggleControl,{label:(0,a.__)("Required","chatty-forms"),checked:c.required,onChange:e=>d("required",e)}),"number"===c.type&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(o.TextControl,{label:(0,a.__)("Min Value","chatty-forms"),type:"number",value:c.min,onChange:e=>d("min",e)}),(0,r.createElement)(o.TextControl,{label:(0,a.__)("Max Value","chatty-forms"),type:"number",value:c.max,onChange:e=>d("max",e)})),("select"===c.type||"checkbox"===c.type||"radio"===c.type)&&(0,r.createElement)(o.TextControl,{label:(0,a.__)("Options (comma separated)","chatty-forms"),value:c.options||"",onChange:e=>d("options",e),help:(0,a.__)("e.g. Option 1, Option 2, Option 3","chatty-forms")}),"custom"===c.type&&(0,r.createElement)(o.TextControl,{label:(0,a.__)("HTML Input Type","chatty-forms"),value:c.htmlType||"text",onChange:e=>d("htmlType",e),help:(0,a.__)("e.g. text, tel, color, range, file","chatty-forms")}),"photo"===c.type&&(0,r.createElement)(o.TextControl,{label:(0,a.__)("Max Photos","chatty-forms"),type:"number",value:c.maxPhotos||1,onChange:e=>d("maxPhotos",Math.min(10,Math.max(1,parseInt(e)||1))),help:(0,a.__)("Maximum number of photos (110)","chatty-forms"),min:1,max:10}),(0,r.createElement)("div",{className:"chatty-forms-prop-help"},(0,r.createElement)("p",null,"Type: ",(0,r.createElement)("code",null,c.type)),(0,r.createElement)("p",null,"ID: ",(0,r.createElement)("code",null,c.id))))}},536(e,t,n){n.d(t,{A:()=>l});var r=n(609),a=n(723),o=n(427);const l=({children:e,currentView:t,onViewChange:n})=>{const l=window.chattyFormsData?.emblemUrl;return(0,r.createElement)("div",{className:"chatty-forms-layout"},(0,r.createElement)("header",{className:"chatty-forms-header"},(0,r.createElement)("div",{className:"chatty-forms-branding"},l&&(0,r.createElement)("img",{src:l,alt:"CHATTY",className:"chatty-forms-emblem"}),(0,r.createElement)("h1",null,(0,a.__)("CHATTY Forms","chatty-forms"))),(0,r.createElement)("nav",{className:"chatty-forms-nav"},(0,r.createElement)(o.Button,{variant:"dashboard"===t?"primary":"tertiary",onClick:()=>n("dashboard")},(0,a.__)("Dashboard","chatty-forms")))),(0,r.createElement)("main",{className:"chatty-forms-main"},e))}},195(e,t,n){n.d(t,{d:()=>c,t:()=>s});var r=n(609),a=n(87),o=n(795);const l=(0,a.createContext)(null);let i=0;const s=({children:e})=>{const[t,n]=(0,a.useState)([]),s=(0,a.useCallback)((e,t="info",r=4e3)=>{const a=++i;n(n=>[...n,{id:a,message:e,type:t,exiting:!1}]),r>0&&setTimeout(()=>c(a),r)},[]),c=(0,a.useCallback)(e=>{n(t=>t.map(t=>t.id===e?{...t,exiting:!0}:t)),setTimeout(()=>{n(t=>t.filter(t=>t.id!==e))},300)},[]),d={success:e=>s(e,"success"),error:e=>s(e,"error"),warning:e=>s(e,"warning"),info:e=>s(e,"info")};return(0,r.createElement)(l.Provider,{value:d},e,(0,o.createPortal)((0,r.createElement)("div",{className:"chatty-forms-toast-container"},t.map(e=>(0,r.createElement)("div",{key:e.id,className:`chatty-forms-toast ${e.type} ${e.exiting?"exiting":""}`,onClick:()=>c(e.id)},"success"===e.type&&" ","error"===e.type&&" ","warning"===e.type&&" ","info"===e.type&&" ",e.message))),document.body))},c=()=>{const e=(0,a.useContext)(l);if(!e)throw new Error("useToast must be used inside ToastProvider");return e}},607(e,t,n){n.d(t,{A:()=>d,J:()=>c});var r=n(282),a=n(296);const o=chattyFormsData?.apiUrl||"/wp-json/chatty-forms/v1",l=chattyFormsData?.nonce||"",i=async(e,t={})=>{const n=await fetch(`${o}${e}`,{headers:{"Content-Type":"application/json","X-WP-Nonce":l,...t.headers},...t}),r=await n.json();if(!n.ok)throw new Error(r.message||"API Error");return r},s=(0,r.vt)((e,t)=>({forms:[],isLoadingForms:!1,form:{id:null,title:"Untitled Form",status:"draft"},fields:[],settings:{},selectedFieldId:null,isDragging:!1,isSaving:!1,hasUnsavedChanges:!1,fetchForms:async()=>{e({isLoadingForms:!0});try{const t=await i("/forms");e({forms:t,isLoadingForms:!1})}catch(t){console.error("Failed to fetch forms:",t),e({isLoadingForms:!1})}},deleteForm:async t=>{try{await i(`/forms/${t}`,{method:"DELETE"}),e(e=>({forms:e.forms.filter(e=>e.id!==t)}))}catch(e){console.error("Failed to delete form:",e)}},loadForm:async t=>{try{const n=await i(`/forms/${t}`);e({form:{id:n.id,title:n.title,status:n.status},fields:n.fields||[],settings:n.settings||{},selectedFieldId:null,hasUnsavedChanges:!1})}catch(e){console.error("Failed to load form:",e)}},newForm:()=>{e({form:{id:null,title:"Untitled Form",status:"draft"},fields:[],settings:{},selectedFieldId:null,hasUnsavedChanges:!1})},saveForm:async()=>{const{form:n,fields:r,settings:a}=t();e({isSaving:!0});try{if(n.id)await i(`/forms/${n.id}`,{method:"PUT",body:JSON.stringify({title:n.title,fields:r,settings:a,status:n.status})});else{const t=await i("/forms",{method:"POST",body:JSON.stringify({title:n.title,fields:r,settings:a,status:n.status})});e(e=>({form:{...e.form,id:t.id}}))}e({isSaving:!1,hasUnsavedChanges:!1})}catch(t){console.error("Failed to save form:",t),e({isSaving:!1})}},setFormTitle:t=>e(e=>({form:{...e.form,title:t},hasUnsavedChanges:!0})),setForm:t=>e({form:t}),updateSettings:t=>e(e=>({settings:{...e.settings,...t},hasUnsavedChanges:!0})),addField:(t,n=null)=>e(e=>{const r={id:(0,a.A)(),type:t,label:`New ${t.charAt(0).toUpperCase()+t.slice(1)}`,placeholder:"",required:!1},o=[...e.fields];return null!==n?o.splice(n,0,r):o.push(r),{fields:o,selectedFieldId:r.id,hasUnsavedChanges:!0}}),removeField:t=>e(e=>({fields:e.fields.filter(e=>e.id!==t),selectedFieldId:e.selectedFieldId===t?null:e.selectedFieldId,hasUnsavedChanges:!0})),updateField:(t,n)=>e(e=>({fields:e.fields.map(e=>e.id===t?{...e,...n}:e),hasUnsavedChanges:!0})),moveField:(t,n)=>e(e=>{const r=[...e.fields],[a]=r.splice(t,1);return r.splice(n,0,a),{fields:r,hasUnsavedChanges:!0}}),selectField:t=>e({selectedFieldId:t}),setIsDragging:t=>e({isDragging:t}),cloneForm:async e=>{try{const n=await i(`/forms/${e}/clone`,{method:"POST"});return await t().fetchForms(),n}catch(e){return console.error("Failed to clone form:",e),null}},exportForms:async(e=[])=>{try{return await i("/forms/export",{method:"POST",body:JSON.stringify({ids:e})})}catch(e){return console.error("Failed to export forms:",e),null}},importForms:async e=>{try{const n=await i("/forms/import",{method:"POST",body:JSON.stringify(e)});return await t().fetchForms(),n}catch(e){return console.error("Failed to import forms:",e),null}},createFromTemplate:async e=>{try{return await i("/forms",{method:"POST",body:JSON.stringify({title:e.title,fields:e.fields,settings:e.settings||{},status:"draft"})})}catch(e){return console.error("Failed to create from template:",e),null}}})),c=[{id:"contact",title:"Contact Us",description:"Simple contact form with name, email, and message.",icon:"",fields:[{id:"f1",type:"text",label:"Full Name",placeholder:"John Doe",required:!0},{id:"f2",type:"email",label:"Email Address",placeholder:"john@example.com",required:!0},{id:"f3",type:"phone",label:"Phone Number",placeholder:"(555) 123-4567",required:!1},{id:"f4",type:"textarea",label:"Message",placeholder:"How can we help you?",required:!0}],settings:{submitText:"Send Message",successMessage:"Thanks for reaching out! We'll get back to you soon."}},{id:"quote",title:"Request a Quote",description:"Lead form for service businesses with project details.",icon:"",fields:[{id:"f1",type:"text",label:"Full Name",placeholder:"Your name",required:!0},{id:"f2",type:"email",label:"Email",placeholder:"your@email.com",required:!0},{id:"f3",type:"phone",label:"Phone",placeholder:"(555) 123-4567",required:!0},{id:"f4",type:"select",label:"Service Type",required:!0,options:["General Inquiry","New Installation","Repair","Maintenance","Other"]},{id:"f5",type:"textarea",label:"Project Details",placeholder:"Tell us about your project...",required:!1}],settings:{submitText:"Get My Quote",successMessage:"Your quote request has been submitted! We'll contact you within 24 hours."}},{id:"feedback",title:"Feedback",description:"Collect customer feedback and ratings.",icon:"",fields:[{id:"f1",type:"text",label:"Name",placeholder:"Optional",required:!1},{id:"f2",type:"email",label:"Email",placeholder:"Optional",required:!1},{id:"f3",type:"select",label:"How would you rate your experience?",required:!0,options:["Excellent","Good","Average","Below Average","Poor"]},{id:"f4",type:"textarea",label:"Tell us more",placeholder:"What did you like or how can we improve?",required:!1}],settings:{submitText:"Submit Feedback",successMessage:"Thank you for your feedback!"}},{id:"newsletter",title:"Newsletter Signup",description:"Simple email capture form for newsletters.",icon:"",fields:[{id:"f1",type:"text",label:"First Name",placeholder:"Your first name",required:!0},{id:"f2",type:"email",label:"Email Address",placeholder:"you@example.com",required:!0}],settings:{submitText:"Subscribe",successMessage:"You're subscribed! Check your inbox for a confirmation."}},{id:"event",title:"Event Registration",description:"Registration form for events and webinars.",icon:"",fields:[{id:"f1",type:"text",label:"Full Name",placeholder:"Your name",required:!0},{id:"f2",type:"email",label:"Email",placeholder:"your@email.com",required:!0},{id:"f3",type:"phone",label:"Phone",placeholder:"(555) 123-4567",required:!1},{id:"f4",type:"text",label:"Company / Organization",placeholder:"Optional",required:!1},{id:"f5",type:"select",label:"How did you hear about us?",required:!1,options:["Social Media","Email","Friend/Colleague","Search Engine","Other"]}],settings:{submitText:"Register Now",successMessage:"You're registered! We'll send you event details shortly."}}],d=s},493(e,t,n){var r=n(609),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,l=r.useEffect,i=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),a=r[0].inst,d=r[1];return i(function(){a.value=n,a.getSnapshot=t,c(a)&&d({inst:a})},[e,n,t]),l(function(){return c(a)&&d({inst:a}),e(function(){c(a)&&d({inst:a})})},[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:d},162(e,t,n){var r=n(609),a=n(888),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=a.useSyncExternalStore,i=r.useRef,s=r.useEffect,c=r.useMemo,d=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var u=i(null);if(null===u.current){var m={hasValue:!1,value:null};u.current=m}else m=u.current;u=c(function(){function e(e){if(!s){if(s=!0,l=e,e=r(e),void 0!==a&&m.hasValue){var t=m.value;if(a(t,e))return i=t}return i=e}if(t=i,o(l,e))return t;var n=r(e);return void 0!==a&&a(t,n)?(l=e,t):(l=e,i=n)}var l,i,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,a]);var f=l(e,u[0],u[1]);return s(function(){m.hasValue=!0,m.value=f},[f]),d(f),f}},888(e,t,n){e.exports=n(493)},242(e,t,n){e.exports=n(162)},609(e){e.exports=window.React},795(e){e.exports=window.ReactDOM},427(e){e.exports=window.wp.components},87(e){e.exports=window.wp.element},723(e){e.exports=window.wp.i18n},697(e,t,n){n.d(t,{A:()=>r});const r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)}},689(e,t,n){let r;n.d(t,{A:()=>o});const a=new Uint8Array(16);function o(){if(!r){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");r=crypto.getRandomValues.bind(crypto)}return r(a)}},249(e,t,n){n.d(t,{k:()=>a});const r=[];for(let e=0;e<256;++e)r.push((e+256).toString(16).slice(1));function a(e,t=0){return(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase()}},296(e,t,n){n.d(t,{A:()=>l});var r=n(697),a=n(689),o=n(249);const l=function(e,t,n){return!r.A.randomUUID||t||e?function(e,t,n){const r=(e=e||{}).random??e.rng?.()??(0,a.A)();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=r[e];return t}return(0,o.k)(r)}(e,t,n):r.A.randomUUID()}},282(e,t,n){n.d(t,{vt:()=>u});var r=n(283),a=n(609),o=n(242);const{useDebugValue:l}=a,{useSyncExternalStoreWithSelector:i}=o;let s=!1;const c=e=>e,d=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"==typeof e?(0,r.y)(e):e,n=(e,n)=>function(e,t=c,n){n&&!s&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),s=!0);const r=i(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return l(r),r}(t,e,n);return Object.assign(n,t),n},u=e=>e?d(e):d},283(e,t,n){n.d(t,{y:()=>a});const r=e=>{let t;const n=new Set,r=(e,r)=>{const a="function"==typeof e?e(t):e;if(!Object.is(a,t)){const e=t;t=(null!=r?r:"object"!=typeof a||null===a)?a:Object.assign({},t,a),n.forEach(n=>n(t,e))}},a=()=>t,o={setState:r,getState:a,getInitialState:()=>l,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},l=t=e(r,a,o);return o},a=e=>e?r(e):r}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r=n(609),a=n(87),o=n(536),l=n(29),i=n(877),s=n(195),c=n(607);const d=document.getElementById("chatty-forms-root");d&&(0,a.createRoot)(d).render((0,r.createElement)(()=>{const[e,t]=(0,a.useState)("dashboard"),n=(0,c.A)(e=>e.loadForm),d=(0,c.A)(e=>e.newForm),u=(0,c.A)(e=>e.fetchForms),m=()=>{u(),t("dashboard")};return(0,r.createElement)(s.t,null,(0,r.createElement)(o.A,{currentView:e,onViewChange:m},"dashboard"===e?(0,r.createElement)(l.A,{onCreate:()=>{d(),t("editor")},onEdit:async e=>{await n(e),t("editor")}}):(0,r.createElement)(i.A,{onBack:m})))},null))})();
//# sourceMappingURL=index.js.map